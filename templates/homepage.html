{% extends 'base.html' %}

{% block title %}
{% endblock %}


{% block content %}

    <h1>Keddit</h1>
    <br>
    

<!-- If current user is logged in show this....! -->
{% if current_user.is_authenticated %}
    <a class="btn btn-primary" href="{{url_for('new_community')}}" role="button">Create Community</a>
    <br><br>
    <a class="btn btn-primary" href="/communities" role="button">View Communities</a>
    <br><br>
    <a class="btn btn-primary" href="/logout" role="button">Logout</a>
    <br><br>
    
<!-- If current user is NOT logged in, show this...! -->
{% else %}

    <h4>Join Today</h4><br>
    <a class="btn btn-primary" href="/registration" role="button">Sign Up</a>
    <br><br>
    <a class="btn btn-primary" href="/login" role="button">Login</a>
    <br><br>
    <a class="btn btn-primary" href="/communities" role="button">View Communities</a>
    <br><br>
    
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#LoginModal" data-whatever="@getbootstrap">Login Today!</button>

<div class="modal fade" id="LoginModal" tabindex="-1" role="dialog" aria-labelledby="LoginModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="LoginModalLabel">Keddit</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- Div container for entire registration -->
<div class ="content-section">

  <form action="/login" method="POST">
    {{ form.hidden_tag() }}

    <fieldset class="form-group">
      <legend class="border-bottom mb-4">Log In</legend>
      
    

      <div class="form-group">
        {{form.email.label(class="form-control-label")}}

        {% if form.email.errors %}
          {{form.email(class="form-control form-control-lg is-invalid")}}
          <div class="invalid-feedback">
            {% for error in form.email.errors%}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% else %}
          {{form.email(class="form-control form-control-lg")}}
        {% endif %}
      </div>

      <div class="form-group">
        {{form.password.label(class="form-control-label")}}
        {% if form.password.errors %}
          {{form.password(class="form-control form-control-lg is-invalid")}}
          <div class="invalid-feedback">
            {% for error in form.password.errors%}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% else %}
          {{form.password(class="form-control form-control-lg")}}
        {% endif %}
      </div>

      <div class="form-check">
        {{ form.remember(class="form-check-input")}}
        {{ form.remember.label(class="form-check-label")}}
      </div>
    </fieldset>

    <div class="form-group">
      {{form.submit(class="btn btn-outline-info")}}
    </div>
    <small class="text-muted ml-2">
        <a href="#">Forgot Password?</a>
    </small>

  </form>

  <!-- Already have an account? -->
  <div class="border-top pt-3">
    <small class="text-muted">
      Need An Account? <a class="ml-2" href="/registration">Sign Up Now</a>
    </small>
  </div>

</div>
    </div>
  </div>
</div>
</div>
{% endif %}
  

<div class="social_icons">

    <a class="social" href="https://www.linkedin.com/in/kristencampbell/" target="_blank"><i class="linkedin fab fa-linkedin fa-2x"></i></a>
    <a class="social" href="https://github.com/Kumsy" target="_blank"><i class="github fab fa-github fa-2x"></i></a>
    <a class="social" href="https://twitter.com/kumykums" target="_blank"><i class="twitter fab fa-twitter fa-2x"></i></a>
    <a class="social" href="https://www.facebook.com/KristenPinCampbell" target="_blank"><i class="facebook fab fa-facebook-square fa-2x"></i></a>
    <a class="social" href="https://www.reddit.com/user/Kumsy" target="_blank"><i class="reddit fab fa-reddit fa-2x"></i></a>
</div>


{% endblock %}


